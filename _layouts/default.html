<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>{{ site.title }}</title>
    <link rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}">
    <!-- <script>
      MathJax = {
        loader: {
          load: ["input/tex"]
        },
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
        },
        svg: {
          fontCache: 'global'
        },
        options: {
    renderActions: {
      findScript: [10, function (doc) {
        for (const node of document.querySelectorAll('script[type^="text/tex"]')) {
          const display = !!node.type.match(/; *mode=display/);
          const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
          const text = document.createTextNode('');
          node.parentNode.replaceChild(text, node);
          math.start = {node: text, delim: '', n: 0};
          math.end = {node: text, delim: '', n: 0};
          doc.math.push(math);
        }
      }, '']
    }
  }
      };
    </script>

    <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script> -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet"> 
  </head>

  <body>
    <main>
        <nav id="navbar">
          <div id="me">
            <img src="/assets/me.jpg"/><h1>justin <br/> cai</h1>
          </div>
          <ul>
              {% for link in site.data.nav %} {% unless link.text == page.title_text %}
              <li><a href="{{ link.url }}">{{ link.text }}</a></li>
              {% else %}
              <li class="active">{{ link.text }}</li>
              {% endunless %} {% endfor %}
          </ul>
        </nav>
        {{ content }}
      </main>


      <script>
        $("script[type='math/tex']").replaceWith(function() {
            var tex = $(this).text();
            return katex.renderToString(tex, {displayMode: false});
        });
      
        $("script[type='math/tex; mode=display']").replaceWith(function() {
            var tex = $(this).html();
            return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
        });
      </script>      
  </body>
</html>
